{"version":3,"sources":["services/activities-service.es6"],"names":[],"mappings":";;;;;;;;;;IAAM,iBAAiB;AACnB,aADE,iBAAiB,CACN,UAAU,EAAE,cAAc,EAAE,aAAa,EAAE,eAAe,EAAE;;;8BADvE,iBAAiB;;;AAGf,YAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AACrC,YAAI,CAAC,aAAa,GAAG,aAAa,CAAC;AACnC,YAAI,CAAC,eAAe,GAAG,eAAe,CAAC;AACvC,YAAI,CAAC,UAAU,GAAG,UAAU;;AAAC,AAE7B,YAAI,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,8BAA8B,CAAC,GAAG,YAAY,CAAC,OAAO,CAAC,8BAA8B,CAAC,GAAG,EAAE;AAAC,AACtI,YAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,+BAA+B,CAAC,GAAG,YAAY,CAAC,OAAO,CAAC,+BAA+B,CAAC,GAAG,EAAE;AAAC,AACnI,YAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;AACvG,YAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AACpG,YAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;AAChG,YAAI,CAAC,UAAU,CAAC,GAAG,CAAC,kBAAkB,EAAE,YAAM;AACpC,kBAAK,gBAAgB,EAAE,CAAC;SAC3B,CAAC,CAAC;KACN;;iBAhBC,iBAAiB;;2CAkBC;AAChB,gBAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;AAC7G,gBAAI,CAAC,MAAM,EAAE,CAAC;SACjB;;;iCAES;AACN,wBAAY,CAAC,OAAO,CAAC,8BAA8B,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AACzE,gBAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AAC9F,wBAAY,CAAC,OAAO,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrE,gBAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SAChG;;;WA5BI,iBAAiB;;;AAgCvB,iBAAiB,CAAC,OAAO,GAAG,CAAC,YAAY,EAAE,gBAAgB,EAAE,eAAe,EAAE,iBAAiB,CAAC,CAAC;;QAExF,iBAAiB,GAAjB,iBAAiB","file":"services/activities-service.js","sourcesContent":["class ActivitiesService {\n    constructor ($rootScope, activitiesData, FilterService, LanguageService) {\n        // DI\n        this.activitiesData = activitiesData;\n        this.FilterService = FilterService;\n        this.LanguageService = LanguageService;\n        this.$rootScope = $rootScope;\n        // internal vars\n        this.offerId = localStorage.getItem('tandemApp_activities_offerId') ? localStorage.getItem('tandemApp_activities_offerId') : 36; // 36 === deutsch\n\t\tthis.searchId = localStorage.getItem('tandemApp_activities_searchId') ? localStorage.getItem('tandemApp_activities_searchId') : 36; // 36 === deutsch\n\t\tthis.activities = this.FilterService.filterArray(this.activitiesData, this.LanguageService.selectedLanguage);\n        this.offerObj = this.FilterService.filterObjectFromArray(this.activities, 'id', this.offerId);\n\t\tthis.searchObj = this.FilterService.filterObjectFromArray(this.activities, 'id', this.searchId);\n\t\tthis.$rootScope.$on('language-changed', () => {\n            this.updateActivities();\n        });\n    }\n\n    updateActivities () {\n        this.activities = this.FilterService.filterArray(this.activitiesData, this.LanguageService.selectedLanguage);\n        this.update();\n    }\n\n    update () {\n        localStorage.setItem('tandemApp_activities_offerId', this.offerId);\n\t\tthis.offerObj = this.FilterService.filterObjectFromArray(this.activities, 'id', this.offerId);\n\t\tlocalStorage.setItem('tandemApp_activities_searchId', this.searchId);\n\t\tthis.searchObj = this.FilterService.filterObjectFromArray(this.activities, 'id', this.searchId);\n\t}\n\n}\n\nActivitiesService.$inject = ['$rootScope', 'activitiesData', 'FilterService', 'LanguageService'];\n\nexport { ActivitiesService };\n"],"sourceRoot":"/source/"}