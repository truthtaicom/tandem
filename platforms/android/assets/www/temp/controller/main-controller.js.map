{"version":3,"sources":["controller/main-controller.es6"],"names":[],"mappings":";;;;;;;;;;IAAM;AACF,UADE,cACF,CAAa,UAAb,EAAyB,QAAzB,EAAmC,iBAAnC,EAAsD,eAAtD,EAAuE,aAAvE,EAAsF,YAAtF,EAAoG,eAApG,EAAqH;wBADnH,gBACmH;;;AAEjH,OAAK,UAAL,GAAkB,UAAlB,CAFiH;AAGjH,OAAK,QAAL,GAAgB,QAAhB,CAHiH;AAIvH,OAAK,eAAL,GAAuB,eAAvB,CAJuH;AAKjH,OAAK,iBAAL,GAAyB,iBAAzB,CALiH;AAMjH,OAAK,SAAL,GAAiB,aAAjB,CANiH;AAOjH,OAAK,YAAL,GAAoB,YAApB,CAPiH;AAQjH,OAAK,eAAL,GAAuB,eAAvB;;AARiH,MAUjH,CAAK,SAAL,CAAe,CAAf,EAAkB,IAAlB,GAAyB,KAAK,eAAL,CAAqB,gBAArB,KAA0C,IAA1C,GAAiD,iBAAjD,GAAqE,aAArE,CAVwF;AAWjH,OAAK,QAAL,GAAgB,KAAK,eAAL,CAAqB,gBAArB,CAXiG;AAYjH,OAAK,UAAL,GAAkB,KAAK,iBAAL,CAAuB,UAAvB,CAZ+F;AAajH,OAAK,QAAL,GAAgB,KAAK,iBAAL,CAAuB,QAAvB,CAbiG;AAcvH,OAAK,SAAL,GAAiB,KAAK,iBAAL,CAAuB,SAAvB,CAdsG;AAejH,OAAK,cAAL,GAAsB,KAAK,eAAL,CAAqB,cAArB,CAf2F;AAgBvH,OAAK,SAAL,GAhBuH;EAArH;;cADE;;8BAmBQ;;;AACZ,QAAK,eAAL,CAAqB,cAArB,GADY;AAEZ,OAAI,CAAC,KAAK,cAAL,CAAoB,SAApB,IAAiC,CAAC,KAAK,cAAL,CAAoB,QAApB,EAA8B;AACpE,WAAO,eAAP,CAAuB,WAAvB,GADoE;AAEpE,SAAK,YAAL,CAAkB,MAAlB,CAAyB,mBAAzB,GAA+C,IAA/C,CAFoE;AAGpE,SAAK,UAAL,CAAgB,UAAhB,CAA2B,YAA3B,EAHoE;AAIpE,SAAK,QAAL,CAAc,YAAM;AACnB,WAAK,SAAL,GADmB;KAAN,EAEX,IAFH,EAES,IAFT,EAJoE;IAArE,MAOO;AACN,SAAK,YAAL,CAAkB,MAAlB,CAAyB,mBAAzB,GAA+C,KAA/C,CADM;AAEN,SAAK,UAAL,CAAgB,UAAhB,CAA2B,YAA3B,EAFM;IAPP;;;;gCAYiB;AACjB,QAAK,iBAAL,CAAuB,OAAvB,GAAiC,KAAK,QAAL,CAAc,EAAd,CADhB;AAEX,QAAK,iBAAL,CAAuB,MAAvB,GAFW;AAGjB,QAAK,SAAL,GAHiB;;;;iCAKF;AACf,QAAK,iBAAL,CAAuB,QAAvB,GAAkC,KAAK,SAAL,CAAe,EAAf,CADnB;AAEf,QAAK,iBAAL,CAAuB,MAAvB,GAFe;AAGf,QAAK,SAAL,GAHe;;;;mCAKK;AACpB,QAAK,eAAL,CAAqB,MAArB,CAA4B,KAAK,cAAL,CAA5B,CADoB;AAEpB,QAAK,SAAL,GAFoB;;;;QA3ChB;;;AAkDN,eAAe,OAAf,GAAyB,CAAC,YAAD,EAAe,UAAf,EAA2B,mBAA3B,EAAgD,iBAAhD,EAAmE,eAAnE,EAAoF,cAApF,EAAoG,iBAApG,CAAzB;;QAES","file":"controller/main-controller.js","sourcesContent":["class MainController {\n    constructor ($rootScope, $timeout, ActivitiesService, LanguageService, positionsData, AlertService, PositionService) {\n        // DI\n        this.$rootScope = $rootScope;\n        this.$timeout = $timeout;\n\t\tthis.LanguageService = LanguageService;\n        this.ActivitiesService = ActivitiesService;\n        this.positions = positionsData;\n        this.AlertService = AlertService;\n        this.PositionService = PositionService;\n\t\t// local vars\n        this.positions[0].name = this.LanguageService.selectedLanguage === 'de' ? 'meiner Position' : 'my position';\n        this.language = this.LanguageService.selectedLanguage;\n        this.activities = this.ActivitiesService.activities;\n        this.offerObj = this.ActivitiesService.offerObj;\n\t\tthis.searchObj = this.ActivitiesService.searchObj;\n        this.chosenPosition = this.PositionService.chosenPosition;\n\t\tthis.showAlert();\n\t}\n\tshowAlert () {\n\t\tthis.PositionService.updatePosition();\n\t\tif (!this.chosenPosition.longitude || !this.chosenPosition.latitude) {\n\t\t\twindow.tandemAppConfig.geoLocation();\n\t\t\tthis.AlertService.alerts.retrieving_position = true;\n\t\t\tthis.$rootScope.$broadcast('show-alert');\n\t\t\tthis.$timeout(() => {\n\t\t\t\tthis.showAlert();\n\t\t\t}, 2000, true);\n\t\t} else {\n\t\t\tthis.AlertService.alerts.retrieving_position = false;\n\t\t\tthis.$rootScope.$broadcast('show-alert');\n\t\t}\n\t}\n    changeOffer () {\n\t\tthis.ActivitiesService.offerId = this.offerObj.id;\n        this.ActivitiesService.update();\n\t\tthis.showAlert();\n    }\n\tchangeSearch () {\n\t\tthis.ActivitiesService.searchId = this.searchObj.id;\n\t\tthis.ActivitiesService.update();\n\t\tthis.showAlert();\n\t}\n    changePosition () {\n\t\tthis.PositionService.update(this.chosenPosition);\n\t\tthis.showAlert();\n\t}\n}\n\n\nMainController.$inject = ['$rootScope', '$timeout', 'ActivitiesService', 'LanguageService', 'positionsData', 'AlertService', 'PositionService'];\n\nexport { MainController };\n"],"sourceRoot":"/source/"}